{"ast":null,"code":"import _objectSpread from\"C:/Users/emre_/Desktop/pull/emarkettingonline/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/emre_/Desktop/pull/emarkettingonline/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useState,useEffect}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";// Alışveriş Sepeti Bağlamı Oluşturma\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/createContext();// Alışveriş Sepeti Bileşeni\nexport var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAlert=_useState4[0],setShowAlert=_useState4[1];// Sepete Ürün Ekleme Fonksiyonu\nvar addToCart=function addToCart(product){setCartItems(function(prevCartItems){var updatedCartItems=_objectSpread({},prevCartItems);if(updatedCartItems.hasOwnProperty(product.id)){updatedCartItems[product.id]=_objectSpread(_objectSpread({},updatedCartItems[product.id]),{},{quantity:updatedCartItems[product.id].quantity+1});}else{updatedCartItems[product.id]={product:product,quantity:1};}return updatedCartItems;});setShowAlert(true);};// Sepetten Ürün Kaldırma Fonksiyonu\nvar removeFromCart=function removeFromCart(productId){setCartItems(function(prevCartItems){var updatedCartItems=_objectSpread({},prevCartItems);delete updatedCartItems[productId];return updatedCartItems;});};// Sepeti Temizleme Fonksiyonu\nvar clearCart=function clearCart(){setCartItems([]);};// Toplam Fiyat Hesaplama\nvar getTotalPrice=function getTotalPrice(){var totalPrice=0;Object.values(cartItems).forEach(function(item){totalPrice+=item.product.price*item.quantity;});return totalPrice;};// Toast mesajını gösterme\nuseEffect(function(){if(showAlert){toast.success(\"Ürün sepete eklendi\",{position:\"top-right\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setShowAlert(false);}},[showAlert]);return/*#__PURE__*/_jsxs(CartContext.Provider,{value:{cartItems:cartItems,addToCart:addToCart,removeFromCart:removeFromCart,clearCart:clearCart,getTotalPrice:getTotalPrice},children:[children,/*#__PURE__*/_jsx(ToastContainer,{})]});};// Alışveriş Sepeti Bağlamını Kullanma\nexport var useCart=function useCart(){return useContext(CartContext);};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","CartContext","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","cartItems","setCartItems","_useState3","_useState4","showAlert","setShowAlert","addToCart","product","prevCartItems","updatedCartItems","_objectSpread","hasOwnProperty","id","quantity","removeFromCart","productId","clearCart","getTotalPrice","totalPrice","Object","values","forEach","item","price","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Provider","value","useCart"],"sources":["C:/Users/emre_/Desktop/pull/emarkettingonline/src/components/CartContext/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// Alışveriş Sepeti Bağlamı Oluşturma\r\nconst CartContext = createContext();\r\n\r\n// Alışveriş Sepeti Bileşeni\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  // Sepete Ürün Ekleme Fonksiyonu\r\n  const addToCart = (product) => {\r\n    setCartItems((prevCartItems) => {\r\n      const updatedCartItems = { ...prevCartItems };\r\n      if (updatedCartItems.hasOwnProperty(product.id)) {\r\n        updatedCartItems[product.id] = {\r\n          ...updatedCartItems[product.id],\r\n          quantity: updatedCartItems[product.id].quantity + 1,\r\n        };\r\n      } else {\r\n        updatedCartItems[product.id] = { product: product, quantity: 1 };\r\n      }\r\n      return updatedCartItems;\r\n    });\r\n\r\n    setShowAlert(true);\r\n  };\r\n\r\n  // Sepetten Ürün Kaldırma Fonksiyonu\r\n  const removeFromCart = (productId) => {\r\n    setCartItems((prevCartItems) => {\r\n      const updatedCartItems = { ...prevCartItems };\r\n      delete updatedCartItems[productId];\r\n      return updatedCartItems;\r\n    });\r\n  };\r\n\r\n  // Sepeti Temizleme Fonksiyonu\r\n  const clearCart = () => {\r\n    setCartItems([]);\r\n  };\r\n\r\n  // Toplam Fiyat Hesaplama\r\n  const getTotalPrice = () => {\r\n    let totalPrice = 0;\r\n    Object.values(cartItems).forEach((item) => {\r\n      totalPrice += item.product.price * item.quantity;\r\n    });\r\n    return totalPrice;\r\n  };\r\n\r\n  // Toast mesajını gösterme\r\n  useEffect(() => {\r\n    if (showAlert) {\r\n      toast.success(\"Ürün sepete eklendi\", {\r\n        position: \"top-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setShowAlert(false);\r\n    }\r\n  }, [showAlert]);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{ cartItems, addToCart, removeFromCart, clearCart, getTotalPrice }}\r\n    >\r\n      {children}\r\n      <ToastContainer />\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\n// Alışveriş Sepeti Bağlamını Kullanma\r\nexport const useCart = () => {\r\n  return useContext(CartContext);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}